{"ast":null,"code":"export const initialState = {\n  basket: [],\n  user: JSON.parse(localStorage.getItem(\"user\")),\n  address: {}\n};\nexport const getTotalBasket = basket => basket === null || basket === void 0 ? void 0 : basket.reduce((amount, item) => item.price + amount, 0);\nconst reducer = (state, action) => {\n  console.log(\"action >>>>\", action);\n  switch (action.type) {\n    case \"ADD_TO_BASKET\":\n      return {\n        ...state,\n        basket: [...state.basket, action.item]\n      };\n    case \"REMOVE_FROM_BASKET\":\n      //get the index of that product whose id is action.id\n      const index = state.basket.findIndex(basketItem => basketItem.id === action.id);\n      //create new basket inorder to remove the product from the old basket    \n      let newBasket = [...state.basket];\n      if (index >= 0) {\n        //remove the product fro the basket\n        newBasket.splice(index, 1);\n      }\n      console.warn(` can't remove the product because the id is ${index}`);\n      return {\n        ...state,\n        basket: newBasket\n      };\n    case \"SET_ADDRESS\":\n      return {\n        ...state,\n        address: {\n          ...action.item\n        }\n      };\n    case \"EMPTY_BASKET\":\n      return {\n        ...state,\n        basket: []\n      };\n    default:\n      return state;\n  }\n};\nexport default reducer;","map":{"version":3,"names":["initialState","basket","user","JSON","parse","localStorage","getItem","address","getTotalBasket","reduce","amount","item","price","reducer","state","action","console","log","type","index","findIndex","basketItem","id","newBasket","splice","warn"],"sources":["D:/project docs/k-mart-v2/k-mart-v2/front-end/src/reducer.js"],"sourcesContent":["export const initialState = {\n    basket: [],\n    user: JSON.parse(localStorage.getItem(\"user\")),\n    address: {},\n  };\n\n export const getTotalBasket=(basket)=>basket?.reduce((amount,item)=>item.price+amount,0)\n  const reducer = (state, action) => {\n    console.log(\"action >>>>\", action);\n\n    switch(action.type){\n        case \"ADD_TO_BASKET\":\n            return {\n                ...state,\n                basket: [...state.basket, action.item],\n            };\n\n        case\"REMOVE_FROM_BASKET\":\n            //get the index of that product whose id is action.id\n            const index=state.basket.findIndex(\n                (basketItem)=>basketItem.id===action.id\n                )\n            //create new basket inorder to remove the product from the old basket    \n            let newBasket=[...state.basket]\n            if(index>=0){\n                //remove the product fro the basket\n                newBasket.splice(index,1)\n            }\n            console.warn(` can't remove the product because the id is ${index}`)\n            return{\n                ...state,\n                basket:newBasket\n            }\n        case\"SET_ADDRESS\":\n            return{\n                ...state,\n                address:{...action.item}\n            }\n        case\"EMPTY_BASKET\":\n            return{\n                ...state,\n                basket:[]\n            }\n        default:\n            return state\n    }\n\n}\n\nexport default reducer;\n"],"mappings":"AAAA,OAAO,MAAMA,YAAY,GAAG;EACxBC,MAAM,EAAE,EAAE;EACVC,IAAI,EAAEC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;EAC9CC,OAAO,EAAE,CAAC;AACZ,CAAC;AAEF,OAAO,MAAMC,cAAc,GAAEP,MAAM,IAAGA,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEQ,MAAM,CAAC,CAACC,MAAM,EAACC,IAAI,KAAGA,IAAI,CAACC,KAAK,GAACF,MAAM,EAAC,CAAC,CAAC;AACvF,MAAMG,OAAO,GAAG,CAACC,KAAK,EAAEC,MAAM,KAAK;EACjCC,OAAO,CAACC,GAAG,CAAC,aAAa,EAAEF,MAAM,CAAC;EAElC,QAAOA,MAAM,CAACG,IAAI;IACd,KAAK,eAAe;MAChB,OAAO;QACH,GAAGJ,KAAK;QACRb,MAAM,EAAE,CAAC,GAAGa,KAAK,CAACb,MAAM,EAAEc,MAAM,CAACJ,IAAI;MACzC,CAAC;IAEL,KAAI,oBAAoB;MACpB;MACA,MAAMQ,KAAK,GAACL,KAAK,CAACb,MAAM,CAACmB,SAAS,CAC7BC,UAAU,IAAGA,UAAU,CAACC,EAAE,KAAGP,MAAM,CAACO,EAAE,CACtC;MACL;MACA,IAAIC,SAAS,GAAC,CAAC,GAAGT,KAAK,CAACb,MAAM,CAAC;MAC/B,IAAGkB,KAAK,IAAE,CAAC,EAAC;QACR;QACAI,SAAS,CAACC,MAAM,CAACL,KAAK,EAAC,CAAC,CAAC;MAC7B;MACAH,OAAO,CAACS,IAAI,CAAE,+CAA8CN,KAAM,EAAC,CAAC;MACpE,OAAM;QACF,GAAGL,KAAK;QACRb,MAAM,EAACsB;MACX,CAAC;IACL,KAAI,aAAa;MACb,OAAM;QACF,GAAGT,KAAK;QACRP,OAAO,EAAC;UAAC,GAAGQ,MAAM,CAACJ;QAAI;MAC3B,CAAC;IACL,KAAI,cAAc;MACd,OAAM;QACF,GAAGG,KAAK;QACRb,MAAM,EAAC;MACX,CAAC;IACL;MACI,OAAOa,KAAK;EAAA;AAGxB,CAAC;AAED,eAAeD,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}